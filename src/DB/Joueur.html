<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Partage de Données Firestore</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
  </head>
  <body>
    <h1>Données Firestore</h1>
    <div id="data"></div>

    <script>
      // Configuration de Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyDmw_tFIQipNfnc7Pdz_ht4Ze2QJGScUPI",
        authDomain: "who-liked-that.firebaseapp.com",
        projectId: "who-liked-that",
        storageBucket: "who-liked-that.appspot.com",
        messagingSenderId: "900730803541",
        appId: "1:900730803541:web:4584cb3e5b8d702451cbdc",
        measurementId: "G-6JNRDMZV72",
      };

      // Initialiser Firebase
      firebase.initializeApp(firebaseConfig);

      // Référence Firestore
      const db = firebase.firestore();

      // Fonction pour récupérer les données
      async function fetchFirestoreData() {
        const querySnapshot = await db.collection("Joueur").get();
        querySnapshot.forEach((doc) => {
          document.getElementById("data").innerHTML += `<p>${
            doc.id
          } => ${JSON.stringify(doc.data())}</p>`;
        });
      }

      // Appel de la fonction au chargement de la page
      fetchFirestoreData();
    </script>
  </body>
</html>
